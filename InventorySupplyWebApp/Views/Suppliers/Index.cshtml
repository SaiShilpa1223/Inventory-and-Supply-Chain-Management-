@using Microsoft.AspNetCore.Authorization
@inject IAuthorizationService AuthService
@{

    ViewData["Title"] = "Suppliers";

}

<h2>Suppliers</h2>

<p>
    <!-- Create Button to Navigate to the Create Page -->
    @if (User.IsInRole("Manager") || User.IsInRole("Admin"))

    {
        <a href="@Url.Action("Create", "Suppliers")
        " class="btn btn-primary">Create New Supplier</a>

    }
</p>
<!-- Table to display suppliers -->
<table class="table">
    <thead>
    <tr>
        <th>Name</th>
        <th>Contact</th>
        <th>Address</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    @foreach (var supplier in Model)
    {
        <tr>
            <td>@supplier.Name</td>
            <td>@supplier.Contact</td>
            <td>@supplier.Address</td>
            <td>
                <!-- Edit and Delete buttons (if needed) -->
                    @if (User.IsInRole("Manager") || User.IsInRole("Admin"))
                    {
                        <a href="@Url.Action("Edit", "Suppliers", new { id = supplier.SupplierId })" class="btn btn-warning btn-sm">Edit</a>
                    }
                <a href="@Url.Action("Details", "Suppliers", new { id = supplier.SupplierId })" class="btn btn-primary btn-sm">Details</a>
                    @if (User.IsInRole("Manager") || User.IsInRole("Admin"))
                    {
                <a href="@Url.Action("Delete", "Suppliers", new { id = supplier.SupplierId })" class="btn btn-danger btn-sm">Delete</a>
                    }
            </td>
        </tr>
    }
    </tbody>
</table>
